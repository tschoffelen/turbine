<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quick Start - Turbine</title>
  <meta name="description" content="Type-safe entity mapping and query library for DynamoDB">
  <link rel="stylesheet" href="https://tschoffelen.github.io/turbine/style.css">
</head>
<body>
  <nav class="sidebar">
    <div class="sidebar-header">
      <a href="https://tschoffelen.github.io/turbine" class="logo">Turbine</a>
      <p class="tagline">DynamoDB made simple</p>
    </div>
    <ul class="nav-links">
      <li><a href="https://tschoffelen.github.io/turbine/quick-start">Quick Start</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/tables">Tables</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/entities">Entities</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/crud">CRUD Operations</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/querying">Querying</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/typescript">TypeScript</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/key-patterns">Key Patterns</a></li>
      <li><a href="https://tschoffelen.github.io/turbine/errors">Error Handling</a></li>
    </ul>
    <div class="sidebar-footer">
      <a href="https://github.com/tschoffelen/turbine" target="_blank">GitHub</a>
      <a href="https://www.npmjs.com/package/dynamodb-turbine" target="_blank">npm</a>
    </div>
  </nav>
  <main class="content">
    
<article>
  <h1>Quick Start</h1>
  <p>Get up and running with Turbine in just a few minutes.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Node.js 18+</li>
<li>An AWS account with DynamoDB access</li>
<li>AWS credentials configured (via environment variables, AWS CLI, or IAM role)</li>
</ul>
<h2 id="installation">Installation</h2>
<p>Install Turbine and Zod:</p>
<pre data-lang="bash" style="background-color:#282c34;color:#abb2bf;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#e06c75;">npm</span><span> install dynamodb-turbine zod
</span></code></pre>
<h2 id="step-1-define-your-table">Step 1: Define Your Table</h2>
<p>First, define your DynamoDB table structure. Turbine needs to know about your table's indexes:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="color:#c678dd;">import </span><span>{ </span><span style="color:#e06c75;">defineTable </span><span>} </span><span style="color:#c678dd;">from </span><span style="color:#98c379;">&quot;dynamodb-turbine&quot;</span><span>;
</span><span>
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">table </span><span>= </span><span style="color:#61afef;">defineTable</span><span>({
</span><span>  name: </span><span style="color:#98c379;">&quot;my-app-table&quot;</span><span>,
</span><span>  indexes: {
</span><span>    table: { hashKey: </span><span style="color:#98c379;">&quot;pk&quot;</span><span>, rangeKey: </span><span style="color:#98c379;">&quot;sk&quot; </span><span>},
</span><span>    gsi1: { hashKey: </span><span style="color:#98c379;">&quot;type&quot;</span><span>, rangeKey: </span><span style="color:#98c379;">&quot;createdAt&quot; </span><span>},
</span><span>  },
</span><span>});
</span></code></pre>
<p>The <code>table</code> index is your primary key. Additional indexes (like <code>gsi1</code>) are Global Secondary Indexes.</p>
<h2 id="step-2-define-an-entity">Step 2: Define an Entity</h2>
<p>Create an entity with a Zod schema for validation:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="color:#c678dd;">import </span><span>{ </span><span style="color:#e06c75;">defineEntity </span><span>} </span><span style="color:#c678dd;">from </span><span style="color:#98c379;">&quot;dynamodb-turbine&quot;</span><span>;
</span><span style="color:#c678dd;">import </span><span>{ </span><span style="color:#e06c75;">z </span><span>} </span><span style="color:#c678dd;">from </span><span style="color:#98c379;">&quot;zod&quot;</span><span>;
</span><span>
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">users </span><span>= </span><span style="color:#61afef;">defineEntity</span><span>({
</span><span>  </span><span style="color:#e06c75;">table</span><span>,
</span><span>  schema: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">object</span><span>({
</span><span>    id: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>(),
</span><span>    email: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>().</span><span style="color:#61afef;">email</span><span>(),
</span><span>    name: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>(),
</span><span>    role: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">enum</span><span>([</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;admin&quot;</span><span>]).</span><span style="color:#61afef;">default</span><span>(</span><span style="color:#98c379;">&quot;user&quot;</span><span>),
</span><span>    createdAt: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>().</span><span style="color:#61afef;">datetime</span><span>().</span><span style="color:#61afef;">default</span><span>(() </span><span style="color:#c678dd;">=&gt; </span><span>new Date().</span><span style="color:#61afef;">toISOString</span><span>()),
</span><span>  }),
</span><span>  keys: {
</span><span>    </span><span style="color:#61afef;">type</span><span>: () </span><span style="color:#c678dd;">=&gt; </span><span style="color:#98c379;">&quot;user&quot;</span><span>,
</span><span>    </span><span style="color:#61afef;">pk</span><span>: (</span><span style="color:#e06c75;">user</span><span>) </span><span style="color:#c678dd;">=&gt; </span><span>[</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#e06c75;">user</span><span>.id],
</span><span>    </span><span style="color:#61afef;">sk</span><span>: (</span><span style="color:#e06c75;">user</span><span>) </span><span style="color:#c678dd;">=&gt; </span><span>[</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#e06c75;">user</span><span>.</span><span style="color:#e06c75;">email</span><span>],
</span><span>  },
</span><span>});
</span></code></pre>
<p>Key functions receive the entity data and return values that become DynamoDB attributes. Arrays are automatically joined with <code>#</code>.</p>
<h2 id="step-3-create-items">Step 3: Create Items</h2>
<p>Use <code>put()</code> to create new items:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="color:#c678dd;">const </span><span style="color:#e06c75;">user </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#61afef;">put</span><span>({
</span><span>  id: </span><span style="color:#98c379;">&quot;user-123&quot;</span><span>,
</span><span>  email: </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>,
</span><span>  name: </span><span style="color:#98c379;">&quot;Alice&quot;</span><span>,
</span><span>});
</span><span>
</span><span style="color:#e5c07b;">console</span><span>.</span><span style="color:#56b6c2;">log</span><span>(</span><span style="color:#e06c75;">user</span><span>.id);        </span><span style="font-style:italic;color:#5c6370;">// &quot;user-123&quot;
</span><span style="color:#e5c07b;">console</span><span>.</span><span style="color:#56b6c2;">log</span><span>(</span><span style="color:#e06c75;">user</span><span>.</span><span style="color:#e06c75;">role</span><span>);      </span><span style="font-style:italic;color:#5c6370;">// &quot;user&quot; (default value)
</span><span style="color:#e5c07b;">console</span><span>.</span><span style="color:#56b6c2;">log</span><span>(</span><span style="color:#e06c75;">user</span><span>.</span><span style="color:#e06c75;">createdAt</span><span>); </span><span style="font-style:italic;color:#5c6370;">// &quot;2024-01-15T10:30:00.000Z&quot;
</span></code></pre>
<h2 id="step-4-fetch-items">Step 4: Fetch Items</h2>
<p>Use <code>get()</code> to fetch a single item by its keys:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="color:#c678dd;">const </span><span style="color:#e06c75;">user </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#56b6c2;">get</span><span>({
</span><span>  pk: [</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;user-123&quot;</span><span>],
</span><span>  sk: [</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>],
</span><span>});
</span><span>
</span><span style="color:#c678dd;">if </span><span>(</span><span style="color:#e06c75;">user</span><span>) {
</span><span>  </span><span style="color:#e5c07b;">console</span><span>.</span><span style="color:#56b6c2;">log</span><span>(</span><span style="color:#e06c75;">user</span><span>.name); </span><span style="font-style:italic;color:#5c6370;">// &quot;Alice&quot;
</span><span>}
</span></code></pre>
<h2 id="step-5-update-items">Step 5: Update Items</h2>
<p>Update items using the entity method or the instance method:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="font-style:italic;color:#5c6370;">// Entity method - requires keys
</span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#61afef;">update</span><span>(
</span><span>  { pk: [</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;user-123&quot;</span><span>], sk: [</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>] },
</span><span>  { name: </span><span style="color:#98c379;">&quot;Alice Smith&quot; </span><span>}
</span><span>);
</span><span>
</span><span style="font-style:italic;color:#5c6370;">// Instance method - more convenient
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">user </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#56b6c2;">get</span><span>({ pk: [</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;user-123&quot;</span><span>], sk: [</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>] });
</span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">user</span><span>?.</span><span style="color:#61afef;">update</span><span>({ name: </span><span style="color:#98c379;">&quot;Alice Smith&quot; </span><span>});
</span></code></pre>
<h2 id="step-6-query-items">Step 6: Query Items</h2>
<p>Query for multiple items using indexes:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="font-style:italic;color:#5c6370;">// Query all users created in 2024
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">users2024 </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#61afef;">queryAll</span><span>({
</span><span>  index: </span><span style="color:#98c379;">&quot;gsi1&quot;</span><span>,
</span><span>  type: </span><span style="color:#98c379;">&quot;user&quot;</span><span>,
</span><span>  createdAt: { beginsWith: </span><span style="color:#98c379;">&quot;2024&quot; </span><span>},
</span><span>});
</span><span>
</span><span style="font-style:italic;color:#5c6370;">// Query with pagination
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">page1 </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#61afef;">query</span><span>(
</span><span>  { index: </span><span style="color:#98c379;">&quot;gsi1&quot;</span><span>, type: </span><span style="color:#98c379;">&quot;user&quot; </span><span>},
</span><span>  { Limit: </span><span style="color:#d19a66;">10 </span><span>}
</span><span>);
</span><span>
</span><span style="color:#c678dd;">if </span><span>(</span><span style="color:#e06c75;">page1</span><span>.next) {
</span><span>  </span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">page2 </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">page1</span><span>.</span><span style="color:#61afef;">next</span><span>();
</span><span>}
</span></code></pre>
<h2 id="step-7-delete-items">Step 7: Delete Items</h2>
<p>Remove items with <code>delete()</code>:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#56b6c2;">delete</span><span>({
</span><span>  pk: [</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;user-123&quot;</span><span>],
</span><span>  sk: [</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>],
</span><span>});
</span></code></pre>
<h2 id="complete-example">Complete Example</h2>
<p>Here's a complete working example:</p>
<pre data-lang="typescript" style="background-color:#282c34;color:#abb2bf;" class="language-typescript "><code class="language-typescript" data-lang="typescript"><span style="color:#c678dd;">import </span><span>{ </span><span style="color:#e06c75;">defineTable</span><span>, </span><span style="color:#e06c75;">defineEntity </span><span>} </span><span style="color:#c678dd;">from </span><span style="color:#98c379;">&quot;dynamodb-turbine&quot;</span><span>;
</span><span style="color:#c678dd;">import </span><span>{ </span><span style="color:#e06c75;">z </span><span>} </span><span style="color:#c678dd;">from </span><span style="color:#98c379;">&quot;zod&quot;</span><span>;
</span><span>
</span><span style="font-style:italic;color:#5c6370;">// Table definition
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">table </span><span>= </span><span style="color:#61afef;">defineTable</span><span>({
</span><span>  name: process.env.</span><span style="color:#e06c75;">TABLE_NAME</span><span>!,
</span><span>  indexes: {
</span><span>    table: { hashKey: </span><span style="color:#98c379;">&quot;pk&quot;</span><span>, rangeKey: </span><span style="color:#98c379;">&quot;sk&quot; </span><span>},
</span><span>    gsi1: { hashKey: </span><span style="color:#98c379;">&quot;type&quot;</span><span>, rangeKey: </span><span style="color:#98c379;">&quot;createdAt&quot; </span><span>},
</span><span>  },
</span><span>});
</span><span>
</span><span style="font-style:italic;color:#5c6370;">// User entity
</span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">users </span><span>= </span><span style="color:#61afef;">defineEntity</span><span>({
</span><span>  </span><span style="color:#e06c75;">table</span><span>,
</span><span>  schema: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">object</span><span>({
</span><span>    id: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>(),
</span><span>    email: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>().</span><span style="color:#61afef;">email</span><span>(),
</span><span>    name: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>(),
</span><span>    createdAt: </span><span style="color:#e06c75;">z</span><span>.</span><span style="color:#61afef;">string</span><span>().</span><span style="color:#61afef;">datetime</span><span>().</span><span style="color:#61afef;">default</span><span>(() </span><span style="color:#c678dd;">=&gt; </span><span>new Date().</span><span style="color:#61afef;">toISOString</span><span>()),
</span><span>  }),
</span><span>  keys: {
</span><span>    </span><span style="color:#61afef;">type</span><span>: () </span><span style="color:#c678dd;">=&gt; </span><span style="color:#98c379;">&quot;user&quot;</span><span>,
</span><span>    </span><span style="color:#61afef;">pk</span><span>: (</span><span style="color:#e06c75;">u</span><span>) </span><span style="color:#c678dd;">=&gt; </span><span>[</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#e06c75;">u</span><span>.id],
</span><span>    </span><span style="color:#61afef;">sk</span><span>: (</span><span style="color:#e06c75;">u</span><span>) </span><span style="color:#c678dd;">=&gt; </span><span>[</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#e06c75;">u</span><span>.</span><span style="color:#e06c75;">email</span><span>],
</span><span>  },
</span><span>});
</span><span>
</span><span style="font-style:italic;color:#5c6370;">// Usage
</span><span style="color:#c678dd;">async function </span><span style="color:#61afef;">main</span><span>() {
</span><span>  </span><span style="font-style:italic;color:#5c6370;">// Create
</span><span>  </span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">user </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#61afef;">put</span><span>({
</span><span>    id: </span><span style="color:#98c379;">&quot;123&quot;</span><span>,
</span><span>    email: </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>,
</span><span>    name: </span><span style="color:#98c379;">&quot;Alice&quot;</span><span>,
</span><span>  });
</span><span>
</span><span>  </span><span style="font-style:italic;color:#5c6370;">// Read
</span><span>  </span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">fetched </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#56b6c2;">get</span><span>({
</span><span>    pk: [</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;123&quot;</span><span>],
</span><span>    sk: [</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>],
</span><span>  });
</span><span>
</span><span>  </span><span style="font-style:italic;color:#5c6370;">// Update
</span><span>  </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">fetched</span><span>?.</span><span style="color:#61afef;">update</span><span>({ name: </span><span style="color:#98c379;">&quot;Alice Smith&quot; </span><span>});
</span><span>
</span><span>  </span><span style="font-style:italic;color:#5c6370;">// Query
</span><span>  </span><span style="color:#c678dd;">const </span><span style="color:#e06c75;">allUsers </span><span>= </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#61afef;">queryAll</span><span>({
</span><span>    index: </span><span style="color:#98c379;">&quot;gsi1&quot;</span><span>,
</span><span>    type: </span><span style="color:#98c379;">&quot;user&quot;</span><span>,
</span><span>  });
</span><span>
</span><span>  </span><span style="font-style:italic;color:#5c6370;">// Delete
</span><span>  </span><span style="color:#c678dd;">await </span><span style="color:#e06c75;">users</span><span>.</span><span style="color:#56b6c2;">delete</span><span>({
</span><span>    pk: [</span><span style="color:#98c379;">&quot;user&quot;</span><span>, </span><span style="color:#98c379;">&quot;123&quot;</span><span>],
</span><span>    sk: [</span><span style="color:#98c379;">&quot;profile&quot;</span><span>, </span><span style="color:#98c379;">&quot;alice@example.com&quot;</span><span>],
</span><span>  });
</span><span>}
</span></code></pre>
<h2 id="next-steps">Next Steps</h2>
<ul>
<li><a href="/tables">Tables</a> - Learn about table configuration and indexes</li>
<li><a href="/entities">Entities</a> - Deep dive into entity definitions</li>
<li><a href="/querying">Querying</a> - Master query conditions and filters</li>
</ul>

</article>

  </main>
</body>
</html>
